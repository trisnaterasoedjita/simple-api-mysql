version: "3.0"
services:
  app:
    build:
      dockerfile: Dockerfile
      context: .
    image: materi-simple-golang-api
    container_name: materi-simple-golang-api
    networks:
        - materisimplegolang
    ports:
        - 4023:4023
  db:
      image: mysql:5.7
      container_name: materi-simple-golang-db
      restart: unless-stopped
      ports:
      - 3309:3306
      environment:
        MYSQL_DATABASE: golang_simple_api_mysql
        MYSQL_ROOT_PASSWORD: s!mp3lAp1
        MYSQL_PASSWORD: s!mp3lAp1
        MYSQL_USER: root
        SERVICE_TAGS: dev
        SERVICE_NAME: mysql
      volumes:
        - ./docker-compose/mysql:/var/lib/mysql
      networks:
        - materisimplegolang
networks:
  materisimplegolang:
    driver: bridge
    